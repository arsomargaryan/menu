{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\react\\\\im\\\\menu.am\\\\src\\\\Pages\\\\ShopPage.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useMemo, useState } from \"react\";\nimport { getAllRestaurants } from \"../api\";\nimport { Category } from \"../Components/Category\";\nimport { PropertyFilterShop } from \"../ShopComponents/Filter/PropertyFilterShop\";\nimport { ShopList } from \"../ShopComponents/ShopList\";\nimport { Banner } from \"../Components/Banner\";\nimport { Search } from \"../Components/Search\";\nimport { HasFilter } from \"../Components/HasFilter\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function ShopPage() {\n  _s();\n  const [shop, setShop] = useState([]);\n  const [filters, setFilters] = useState(new Set());\n  const [filteredBySearch, setFilteredBySearch] = useState([]);\n  useEffect(() => {\n    getAllRestaurants(\"shop\", null, null).then(data => {\n      setShop(data);\n    });\n  }, []);\n  const filteredShop = useMemo(() => {\n    if (!shop.length) {\n      return [];\n    }\n    if (!filters.size) {\n      return shop;\n    }\n    return shop.filter(shopItem => {\n      return [...filters.values()].every(prop => shopItem.props.includes(prop));\n    });\n  }, [filters, shop]);\n  const filteredShopFunc = item => {\n    const filtersCopy = new Set(filters);\n    if (filtersCopy.has(item)) {\n      filtersCopy.delete(item);\n    } else {\n      filtersCopy.add(item);\n    }\n    setFilters(filtersCopy);\n  };\n  const searchFunc = value => {\n    const arr = shop.filter(el => el.shopName.toLowerCase().includes(value.toLowerCase()));\n    setFilteredBySearch(arr);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Banner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'flex ml-6 mt-10',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Category, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(PropertyFilterShop, {\n          filteredShopFunc: filteredShopFunc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'ml-7',\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          searchFunc: searchFunc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(HasFilter, {\n          filters: filters\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ShopList, {\n          shop: filteredShop\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 12\n  }, this);\n}\n_s(ShopPage, \"uz+x3SVrBOPaMnewTxIO2I8k9GI=\");\n_c = ShopPage;\nvar _c;\n$RefreshReg$(_c, \"ShopPage\");","map":{"version":3,"names":["useEffect","useMemo","useState","getAllRestaurants","Category","PropertyFilterShop","ShopList","Banner","Search","HasFilter","jsxDEV","_jsxDEV","ShopPage","_s","shop","setShop","filters","setFilters","Set","filteredBySearch","setFilteredBySearch","then","data","filteredShop","length","size","filter","shopItem","values","every","prop","props","includes","filteredShopFunc","item","filtersCopy","has","delete","add","searchFunc","value","arr","el","shopName","toLowerCase","children","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/react/im/menu.am/src/Pages/ShopPage.jsx"],"sourcesContent":["import {useEffect, useMemo, useState} from \"react\";\r\nimport {getAllRestaurants} from \"../api\";\r\nimport {Category} from \"../Components/Category\";\r\nimport {PropertyFilterShop} from \"../ShopComponents/Filter/PropertyFilterShop\";\r\nimport {ShopList} from \"../ShopComponents/ShopList\";\r\nimport {Banner} from \"../Components/Banner\";\r\nimport {Search} from \"../Components/Search\";\r\nimport {HasFilter} from \"../Components/HasFilter\";\r\n\r\nexport function ShopPage(){\r\n\r\n    const [shop, setShop] = useState([])\r\n    const [filters, setFilters] = useState(new Set())\r\n    const [filteredBySearch, setFilteredBySearch] = useState([])\r\n\r\n    useEffect(() => {\r\n        getAllRestaurants(\"shop\",null, null).then(data=>{\r\n            setShop(data)\r\n        })\r\n    }, []);\r\n\r\n    const filteredShop = useMemo(()=>{\r\n        if(!shop.length){\r\n            return [];\r\n        }\r\n        if(!filters.size){\r\n            return shop;\r\n        }\r\n        return shop.filter(shopItem=>{\r\n            return [...filters.values()].every(prop=>shopItem.props.includes(prop))\r\n        })\r\n    },[filters, shop])\r\n\r\n    const filteredShopFunc =(item)=>{\r\n        const filtersCopy = new Set(filters)\r\n        if(filtersCopy.has(item)){\r\n            filtersCopy.delete(item)\r\n        }else {\r\n            filtersCopy.add(item)\r\n        }\r\n        setFilters(filtersCopy)\r\n    }\r\n\r\n\r\n    const searchFunc =(value)=>{\r\n        const arr = shop.filter(el=> el.shopName.toLowerCase().includes(value.toLowerCase()))\r\n        setFilteredBySearch(arr)\r\n\r\n    }\r\n\r\n\r\n\r\n    return <div>\r\n        <Banner />\r\n        <div className={'flex ml-6 mt-10'}>\r\n            <div>\r\n                <Category />\r\n                <PropertyFilterShop filteredShopFunc={filteredShopFunc}/>\r\n            </div>\r\n            <div className={'ml-7'}>\r\n                <Search searchFunc={searchFunc} />\r\n                <HasFilter filters={filters}/>\r\n                <ShopList shop={filteredShop} />\r\n            </div>\r\n        </div>\r\n    </div>\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}