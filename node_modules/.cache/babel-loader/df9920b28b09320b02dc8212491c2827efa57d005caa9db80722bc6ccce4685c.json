{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\react\\\\im\\\\menu.am\\\\src\\\\Components\\\\Map\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport LocationPlacemark from \"@mui/icons-material/LocationOn\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport clsx from \"clsx\";\nimport { Button, IconButton, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { GeolocationControl, Map, ZoomControl } from \"react-yandex-maps\";\nimport { useStyles } from \"./App.styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst mapOptions = {\n  modules: [\"geocode\", \"SuggestView\"],\n  defaultOptions: {\n    suppressMapOpenBlock: true\n  },\n  width: 600,\n  height: 400\n};\nconst geolocationOptions = {\n  defaultOptions: {\n    maxWidth: 128\n  },\n  defaultData: {\n    content: \"Determine\"\n  }\n};\nconst initialState = {\n  title: \"\",\n  center: [55.749451, 37.542824],\n  zoom: 12\n};\nexport default function YMapsTest() {\n  _s();\n  const [state, setState] = useState({\n    ...initialState\n  });\n  const [mapConstructor, setMapConstructor] = useState(null);\n  const mapRef = useRef(null);\n  const searchRef = useRef(null);\n  const classes = useStyles();\n\n  // submits\n  const handleSubmit = () => {\n    console.log({\n      title: state.title,\n      center: mapRef.current.getCenter()\n    });\n  };\n\n  // reset state & search\n  const handleReset = () => {\n    setState({\n      ...initialState\n    });\n    searchRef.current.value = \"\";\n    mapRef.current.setCenter(initialState.center);\n    mapRef.current.setZoom(initialState.zoom);\n  };\n\n  // search popup\n  useEffect(() => {\n    if (mapConstructor) {\n      new mapConstructor.SuggestView(searchRef.current).events.add(\"select\", function (e) {\n        const selectedName = e.get(\"item\").value;\n        mapConstructor.geocode(selectedName).then(result => {\n          const newCoords = result.geoObjects.get(0).geometry.getCoordinates();\n          setState(prevState => ({\n            ...prevState,\n            center: newCoords\n          }));\n        });\n      });\n    }\n  }, [mapConstructor]);\n\n  // change title\n  const handleBoundsChange = e => {\n    const newCoords = mapRef.current.getCenter();\n    mapConstructor.geocode(newCoords).then(res => {\n      const nearest = res.geoObjects.get(0);\n      const foundAddress = nearest.properties.get(\"text\");\n      const [centerX, centerY] = nearest.geometry.getCoordinates();\n      const [initialCenterX, initialCenterY] = initialState.center;\n      if (centerX !== initialCenterX && centerY !== initialCenterY) {\n        setState(prevState => ({\n          ...prevState,\n          title: foundAddress\n        }));\n      }\n    });\n  };\n\n  // RENDER\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      m: 2,\n      width: 600\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      className: classes[\"searchRoot\"],\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        className: classes[\"searchFieldBox\"],\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ref: searchRef,\n          placeholder: \"Search...\",\n          disabled: !mapConstructor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          className: clsx(classes[\"titleBox\"], {\n            [classes[\"titleBox_show\"]]: Boolean(state.title.length)\n          }),\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            title: state.title,\n            gutterBottom: false,\n            children: state.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleReset,\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmit,\n        disabled: Boolean(!state.title.length),\n        className: classes[\"searchSubmitBtn\"],\n        children: \"Ok\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: classes[\"mapRoot\"],\n      children: /*#__PURE__*/_jsxDEV(Map, {\n        ...mapOptions,\n        state: state,\n        onLoad: setMapConstructor,\n        onBoundsChange: handleBoundsChange,\n        instanceRef: mapRef,\n        children: [/*#__PURE__*/_jsxDEV(LocationPlacemark, {\n          className: classes[\"placemark\"],\n          color: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GeolocationControl, {\n          ...geolocationOptions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ZoomControl, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(YMapsTest, \"IkI3kFc86yvZx5Ee83d9n0tHIiw=\", false, function () {\n  return [useStyles];\n});\n_c = YMapsTest;\nvar _c;\n$RefreshReg$(_c, \"YMapsTest\");","map":{"version":3,"names":["React","useEffect","useRef","useState","LocationPlacemark","CloseIcon","clsx","Button","IconButton","Typography","Box","GeolocationControl","Map","ZoomControl","useStyles","jsxDEV","_jsxDEV","mapOptions","modules","defaultOptions","suppressMapOpenBlock","width","height","geolocationOptions","maxWidth","defaultData","content","initialState","title","center","zoom","YMapsTest","_s","state","setState","mapConstructor","setMapConstructor","mapRef","searchRef","classes","handleSubmit","console","log","current","getCenter","handleReset","value","setCenter","setZoom","SuggestView","events","add","e","selectedName","get","geocode","then","result","newCoords","geoObjects","geometry","getCoordinates","prevState","handleBoundsChange","res","nearest","foundAddress","properties","centerX","centerY","initialCenterX","initialCenterY","sx","m","children","className","ref","placeholder","disabled","fileName","_jsxFileName","lineNumber","columnNumber","Boolean","length","gutterBottom","onClick","onLoad","onBoundsChange","instanceRef","color","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/react/im/menu.am/src/Components/Map/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport LocationPlacemark from \"@mui/icons-material/LocationOn\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport clsx from \"clsx\";\nimport { Button, IconButton, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { GeolocationControl, Map, ZoomControl } from \"react-yandex-maps\";\nimport { useStyles } from \"./App.styles\";\n\nconst mapOptions = {\n  modules: [\"geocode\", \"SuggestView\"],\n  defaultOptions: { suppressMapOpenBlock: true },\n  width: 600,\n  height: 400,\n};\n\nconst geolocationOptions = {\n  defaultOptions: { maxWidth: 128 },\n  defaultData: { content: \"Determine\" },\n};\n\nconst initialState = {\n  title: \"\",\n  center: [55.749451, 37.542824],\n  zoom: 12,\n};\n\nexport default function YMapsTest() {\n  const [state, setState] = useState({ ...initialState });\n  const [mapConstructor, setMapConstructor] = useState(null);\n  const mapRef = useRef(null);\n  const searchRef = useRef(null);\n  const classes = useStyles();\n\n  // submits\n  const handleSubmit = () => {\n    console.log({ title: state.title, center: mapRef.current.getCenter() });\n  };\n\n  // reset state & search\n  const handleReset = () => {\n    setState({ ...initialState });\n    searchRef.current.value = \"\";\n    mapRef.current.setCenter(initialState.center);\n    mapRef.current.setZoom(initialState.zoom);\n  };\n\n  // search popup\n  useEffect(() => {\n    if (mapConstructor) {\n      new mapConstructor.SuggestView(searchRef.current).events.add(\"select\", function (e) {\n        const selectedName = e.get(\"item\").value;\n        mapConstructor.geocode(selectedName).then((result) => {\n          const newCoords = result.geoObjects.get(0).geometry.getCoordinates();\n          setState((prevState) => ({ ...prevState, center: newCoords }));\n        });\n      });\n    }\n  }, [mapConstructor]);\n\n  // change title\n  const handleBoundsChange = (e) => {\n    const newCoords = mapRef.current.getCenter();\n    mapConstructor.geocode(newCoords).then((res) => {\n      const nearest = res.geoObjects.get(0);\n      const foundAddress = nearest.properties.get(\"text\");\n      const [centerX, centerY] = nearest.geometry.getCoordinates();\n      const [initialCenterX, initialCenterY] = initialState.center;\n      if (centerX !== initialCenterX && centerY !== initialCenterY) {\n        setState((prevState) => ({ ...prevState, title: foundAddress }));\n      }\n    });\n  };\n\n  // RENDER\n  return (\n    <Box sx={{ m: 2, width: 600 }}>\n      <Box className={classes[\"searchRoot\"]}>\n        <Box className={classes[\"searchFieldBox\"]}>\n          <input ref={searchRef} placeholder=\"Search...\" disabled={!mapConstructor} />\n          <Box className={clsx(classes[\"titleBox\"], { [classes[\"titleBox_show\"]]: Boolean(state.title.length) })}>\n            <Typography title={state.title} gutterBottom={false}>\n              {state.title}\n            </Typography>\n            <IconButton onClick={handleReset}>\n              <CloseIcon />\n            </IconButton>\n          </Box>\n        </Box>\n        <Button onClick={handleSubmit} disabled={Boolean(!state.title.length)} className={classes[\"searchSubmitBtn\"]}>\n          Ok\n        </Button>\n      </Box>\n\n      <Box className={classes[\"mapRoot\"]}>\n        <Map\n          {...mapOptions}\n          state={state}\n          onLoad={setMapConstructor}\n          onBoundsChange={handleBoundsChange}\n          instanceRef={mapRef}\n        >\n          <LocationPlacemark className={classes[\"placemark\"]} color=\"primary\" />\n          <GeolocationControl {...geolocationOptions} />\n          <ZoomControl />\n        </Map>\n      </Box>\n    </Box>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}