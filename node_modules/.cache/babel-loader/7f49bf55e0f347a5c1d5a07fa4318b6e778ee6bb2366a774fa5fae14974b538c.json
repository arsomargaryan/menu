{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\react\\\\im\\\\menu.am\\\\src\\\\Pages\\\\HomePage.jsx\",\n  _s = $RefreshSig$();\nimport { getAllRestaurants } from \"../api\";\nimport { useState, useEffect, useMemo } from \"react\";\nimport { RestaurantsList } from \"../RestaurantsComponents/RestaurantsList\";\nimport { Category } from \"../Components/Category\";\nimport { PropertyFilterRestaurant } from \"../RestaurantsComponents/Filter/PropertyFilterRestaurant\";\nimport { Banner } from \"../Components/Banner\";\nimport { Search } from \"../Components/Search\";\nimport { HasFilter } from \"../Components/HasFilter\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function HomePage() {\n  _s();\n  const [restaurants, setRestaurants] = useState([]);\n  const [filteredBySearch, setFilteredBySearch] = useState([]);\n  const [filters, setFilters] = useState(new Set());\n  const filteredRestaurants = useMemo(() => {\n    if (!restaurants.length) {\n      return [];\n    }\n    if (!filters.size) {\n      return restaurants;\n    }\n    return restaurants.filter(restaurantItem => {\n      return [...filters.values()].every(prop => restaurantItem.props.includes(prop));\n    });\n  }, [filters, restaurants]);\n\n  //\n  // useEffect(() => {\n  //     getAllRestaurants().then(data => {\n  //         setRestaurants(data)\n  //     })\n  // }, []);\n\n  useEffect(() => {\n    getAllRestaurants(null, null).then(data => {\n      setRestaurants(data);\n    });\n  }, []);\n  const filteredRestaurantFunc = item => {\n    const filtersCopy = new Set(filters);\n    if (filtersCopy.has(item)) {\n      filtersCopy.delete(item);\n    } else {\n      filtersCopy.add(item);\n    }\n    setFilters(filtersCopy);\n  };\n  const searchFunc = value => {\n    const arr = restaurants.filter(el => el.restaurantName.toLowerCase().includes(value.toLowerCase()));\n    setFilteredBySearch(arr);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Banner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'flex ml-6 mt-10',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Category, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(PropertyFilterRestaurant, {\n          filteredRestaurantFunc: filteredRestaurantFunc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'ml-7',\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          searchFunc: searchFunc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(HasFilter, {\n          filters: filters\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(RestaurantsList, {\n          restaurants: filteredRestaurants\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 12\n  }, this);\n}\n_s(HomePage, \"aaPkrmeUyZ1Ugy8Jns9fOD0ZHO0=\");\n_c = HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["getAllRestaurants","useState","useEffect","useMemo","RestaurantsList","Category","PropertyFilterRestaurant","Banner","Search","HasFilter","jsxDEV","_jsxDEV","HomePage","_s","restaurants","setRestaurants","filteredBySearch","setFilteredBySearch","filters","setFilters","Set","filteredRestaurants","length","size","filter","restaurantItem","values","every","prop","props","includes","then","data","filteredRestaurantFunc","item","filtersCopy","has","delete","add","searchFunc","value","arr","el","restaurantName","toLowerCase","children","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/react/im/menu.am/src/Pages/HomePage.jsx"],"sourcesContent":["import {getAllRestaurants} from \"../api\";\r\nimport {useState, useEffect, useMemo} from \"react\";\r\nimport {RestaurantsList} from \"../RestaurantsComponents/RestaurantsList\";\r\nimport {Category} from \"../Components/Category\";\r\nimport {PropertyFilterRestaurant} from \"../RestaurantsComponents/Filter/PropertyFilterRestaurant\";\r\nimport {Banner} from \"../Components/Banner\";\r\nimport {Search} from \"../Components/Search\";\r\nimport {HasFilter} from \"../Components/HasFilter\";\r\n\r\n\r\n\r\nexport function HomePage() {\r\n    const [restaurants, setRestaurants] = useState([])\r\n    const [filteredBySearch, setFilteredBySearch] = useState([])\r\n    const [filters, setFilters] = useState(new Set());\r\n\r\n\r\n    const filteredRestaurants = useMemo(() => {\r\n        if(!restaurants.length) {\r\n            return [];\r\n        }\r\n        if(!filters.size) {\r\n            return restaurants;\r\n        }\r\n        return restaurants.filter(restaurantItem => {\r\n            return [...filters.values()].every(prop => restaurantItem.props.includes(prop))\r\n        })\r\n    }, [filters, restaurants]);\r\n\r\n\r\n    //\r\n    // useEffect(() => {\r\n    //     getAllRestaurants().then(data => {\r\n    //         setRestaurants(data)\r\n    //     })\r\n    // }, []);\r\n\r\n    useEffect(() => {\r\n        getAllRestaurants(null, null).then(data=>{\r\n            setRestaurants(data)\r\n        })\r\n    }, []);\r\n\r\n    const filteredRestaurantFunc = (item)=> {\r\n        const filtersCopy = new Set(filters);\r\n        if(filtersCopy.has(item)) {\r\n            filtersCopy.delete(item);\r\n        } else {\r\n            filtersCopy.add(item);\r\n        }\r\n        setFilters(filtersCopy);\r\n    }\r\n\r\n    const searchFunc =(value)=>{\r\n        const arr = restaurants.filter(el=> el.restaurantName.toLowerCase().includes(value.toLowerCase()))\r\n        setFilteredBySearch(arr)\r\n\r\n    }\r\n\r\n\r\n\r\n    return <div>\r\n\r\n        <Banner/>\r\n        <div className={'flex ml-6 mt-10'}>\r\n            <div>\r\n                <Category/>\r\n                <PropertyFilterRestaurant filteredRestaurantFunc={filteredRestaurantFunc}/>\r\n            </div>\r\n            <div className={'ml-7'}>\r\n                <Search searchFunc={searchFunc} />\r\n                <HasFilter filters={filters}/>\r\n                <RestaurantsList restaurants={filteredRestaurants}/>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}